<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Geolocation Finder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 0;
        }

        /* Navigation Bar */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-item {
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            color: #333;
            font-weight: 500;
        }

        .nav-item:hover, .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
        }

        /* Main Container */
        .main-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            text-align: center;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        /* Feature Cards */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .feature-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .feature-desc {
            color: #666;
            line-height: 1.5;
        }

        /* Action Buttons */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .btn {
            padding: 15px 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%);
        }

        .btn-info {
            background: linear-gradient(135deg, #17a2b8 0%, #6f42c1 100%);
        }

        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .info-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-top: 20px;
            display: none;
        }

        .info-card.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .info-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .info-label {
            font-weight: 600;
            color: #667eea;
            font-size: 0.9em;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .info-value {
            color: #333;
            font-size: 1.1em;
            word-wrap: break-word;
        }

        .map {
            width: 100%;
            height: 400px;
            border-radius: 12px;
            margin-top: 20px;
            display: none;
        }

        .map.show {
            display: block;
        }

        /* Status Messages */
        .loading {
            text-align: center;
            color: #667eea;
            margin-top: 20px;
            display: none;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            background: #fee;
            color: #c33;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .error.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        .success {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .success.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        /* Weather Widget */
        .weather-widget {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }

        .weather-widget.show {
            display: block;
        }

        /* History Panel */
        .history-panel {
            max-height: 300px;
            overflow-y: auto;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .history-item {
            background: white;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                flex-wrap: wrap;
                gap: 15px;
            }

            .nav-item {
                padding: 8px 12px;
                font-size: 0.9em;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">üåç GeoFinder Pro</div>
            <ul class="nav-menu">
                <li class="nav-item active" data-section="home">üè† Home</li>
                <li class="nav-item" data-section="location">üìç Location</li>
                <li class="nav-item" data-section="weather">üå§Ô∏è Weather</li>
                <li class="nav-item" data-section="history">üìä History</li>
                <li class="nav-item" data-section="tools">üõ†Ô∏è Tools</li>
                <li class="nav-item" data-section="about">‚ÑπÔ∏è About</li>
            </ul>
        </div>
    </nav>

    <div class="main-container">
        <!-- Home Section -->
        <div class="content-section active" id="home">
            <div class="container">
                <h1>üåç Advanced Geolocation Finder</h1>
                <p class="subtitle">Discover your location with precision and explore advanced geographical features</p>
                
                <!-- Feature Cards -->
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üìç</div>
                        <div class="feature-title">Precise Location</div>
                        <div class="feature-desc">Get accurate coordinates with high-precision GPS technology</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üó∫Ô∏è</div>
                        <div class="feature-title">Interactive Maps</div>
                        <div class="feature-desc">View your location on detailed interactive maps</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üå§Ô∏è</div>
                        <div class="feature-title">Weather Data</div>
                        <div class="feature-desc">Get real-time weather information for your location</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <div class="feature-title">Location History</div>
                        <div class="feature-desc">Track and save your location history</div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="action-buttons">
                    <button class="btn" onclick="quickLocation()">
                        <span>üìç</span> Quick Location
                    </button>
                    <button class="btn btn-secondary" onclick="watchLocation()">
                        <span>üëÅÔ∏è</span> Track Movement
                    </button>
                    <button class="btn btn-warning" onclick="shareLocation()">
                        <span>üì§</span> Share Location
                    </button>
                    <button class="btn btn-info" onclick="saveLocation()">
                        <span>üíæ</span> Save Location
                    </button>
                </div>
            </div>
        </div>

        <!-- Location Section -->
        <div class="content-section" id="location">
            <div class="container">
                <h1>üìç Location Finder</h1>
                <p class="subtitle">Get detailed information about your current location</p>
                
                <button class="btn" id="getLocationBtn">
                    <span>üåç</span> Get My Location
                </button>
                
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Getting your location...</p>
                </div>
                
                <div class="error" id="error"></div>
                <div class="success" id="success"></div>
                
                <div class="info-card" id="infoCard">
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">Latitude</div>
                            <div class="info-value" id="latitude">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Longitude</div>
                            <div class="info-value" id="longitude">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Accuracy</div>
                            <div class="info-value" id="accuracy">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Altitude</div>
                            <div class="info-value" id="altitude">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Speed</div>
                            <div class="info-value" id="speed">-</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Timestamp</div>
                            <div class="info-value" id="timestamp">-</div>
                        </div>
                    </div>
                </div>
                
                <iframe class="map" id="map" frameborder="0"></iframe>
            </div>
        </div>

        <!-- Weather Section -->
        <div class="content-section" id="weather">
            <div class="container">
                <h1>üå§Ô∏è Weather Information</h1>
                <p class="subtitle">Get weather data for your current location</p>
                
                <button class="btn btn-secondary" onclick="getWeather()">
                    <span>üå§Ô∏è</span> Get Weather
                </button>
                
                <div class="weather-widget" id="weatherWidget">
                    <h3>Weather unavailable</h3>
                    <p>Weather API integration would be implemented here</p>
                </div>
            </div>
        </div>

        <!-- History Section -->
        <div class="content-section" id="history">
            <div class="container">
                <h1>üìä Location History</h1>
                <p class="subtitle">View your saved locations and movement history</p>
                
                <div class="action-buttons">
                    <button class="btn" onclick="showHistory()">
                        <span>üìä</span> Show History
                    </button>
                    <button class="btn btn-warning" onclick="clearHistory()">
                        <span>üóëÔ∏è</span> Clear History
                    </button>
                </div>
                
                <div class="history-panel" id="historyPanel">
                    <p>No location history available. Start by getting your location!</p>
                </div>
            </div>
        </div>

        <!-- Tools Section -->
        <div class="content-section" id="tools">
            <div class="container">
                <h1>üõ†Ô∏è Geolocation Tools</h1>
                <p class="subtitle">Additional tools and utilities</p>
                
                <div class="action-buttons">
                    <button class="btn" onclick="calculateDistance()">
                        <span>üìè</span> Distance Calculator
                    </button>
                    <button class="btn btn-secondary" onclick="convertCoordinates()">
                        <span>üîÑ</span> Convert Coordinates
                    </button>
                    <button class="btn btn-warning" onclick="findNearby()">
                        <span>üîç</span> Find Nearby
                    </button>
                    <button class="btn btn-info" onclick="exportData()">
                        <span>üì§</span> Export Data
                    </button>
                </div>
                
                <div class="info-card" id="toolsResult">
                    <p>Select a tool above to get started</p>
                </div>
            </div>
        </div>

        <!-- About Section -->
        <div class="content-section" id="about">
            <div class="container">
                <h1>‚ÑπÔ∏è About GeoFinder Pro</h1>
                <p class="subtitle">Learn more about our advanced geolocation features</p>
                
                <div class="info-card show">
                    <h3>Features Overview</h3>
                    <ul style="margin: 20px 0; line-height: 2;">
                        <li>üéØ <strong>High-Precision Location:</strong> GPS-based coordinate detection</li>
                        <li>üó∫Ô∏è <strong>Interactive Maps:</strong> Google Maps integration</li>
                        <li>üì± <strong>Mobile Optimized:</strong> Works perfectly on all devices</li>
                        <li>üíæ <strong>History Tracking:</strong> Save and manage location data</li>
                        <li>üå§Ô∏è <strong>Weather Integration:</strong> Real-time weather data</li>
                        <li>üîß <strong>Advanced Tools:</strong> Distance calculation and more</li>
                        <li>üîí <strong>Privacy Focused:</strong> Your data stays on your device</li>
                    </ul>
                    
                    <h3>How It Works</h3>
                    <p style="margin: 15px 0; line-height: 1.6;">
                        GeoFinder Pro uses the HTML5 Geolocation API to access your device's location services. 
                        We prioritize accuracy and privacy, ensuring your location data is handled securely and 
                        never stored on external servers without your consent.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let watchId = null;
        let locationHistory = JSON.parse(localStorage.getItem('locationHistory') || '[]');
        let currentPosition = null;

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeNavigation();
            loadLocationHistory();
        });

        // Navigation functionality
        function initializeNavigation() {
            const navItems = document.querySelectorAll('.nav-item');
            const sections = document.querySelectorAll('.content-section');

            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const sectionId = item.dataset.section;
                    
                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    item.classList.add('active');
                    
                    // Show corresponding section
                    sections.forEach(section => section.classList.remove('active'));
                    document.getElementById(sectionId).classList.add('active');
                });
            });
        }

        // Original geolocation functionality
        const getLocationBtn = document.getElementById('getLocationBtn');
        const loading = document.getElementById('loading');
        const error = document.getElementById('error');
        const success = document.getElementById('success');
        const infoCard = document.getElementById('infoCard');
        const map = document.getElementById('map');

        if (getLocationBtn) {
            getLocationBtn.addEventListener('click', getLocation);
        }

        function getLocation() {
            if (!navigator.geolocation) {
                showError('Geolocation is not supported by your browser');
                return;
            }

            // Reset UI
            hideMessages();
            loading.classList.add('show');
            getLocationBtn.disabled = true;

            navigator.geolocation.getCurrentPosition(
                showPosition,
                handleError,
                {
                    enableHighAccuracy: true,
                    timeout: 15000,
                    maximumAge: 0
                }
            );
        }

        function showPosition(position) {
            loading.classList.remove('show');
            getLocationBtn.disabled = false;
            infoCard.classList.add('show');
            map.classList.add('show');
            
            currentPosition = position;
            const coords = position.coords;
            const timestamp = new Date(position.timestamp);

            // Update info display
            document.getElementById('latitude').textContent = coords.latitude.toFixed(6);
            document.getElementById('longitude').textContent = coords.longitude.toFixed(6);
            document.getElementById('accuracy').textContent = coords.accuracy.toFixed(2) + ' meters';
            document.getElementById('altitude').textContent = coords.altitude 
                ? coords.altitude.toFixed(2) + ' meters' 
                : 'Not available';
            document.getElementById('speed').textContent = coords.speed 
                ? (coords.speed * 3.6).toFixed(2) + ' km/h' 
                : 'Not available';
            document.getElementById('timestamp').textContent = timestamp.toLocaleString();

            // Update map
            const mapUrl = `https://maps.google.com/maps?q=${coords.latitude},${coords.longitude}&t=&z=15&ie=UTF8&iwloc=&output=embed`;
            map.src = mapUrl;

            // Save to history
            saveToHistory(position);
            
            showSuccess('Location found successfully!');
        }

        function handleError(error) {
            loading.classList.remove('show');
            getLocationBtn.disabled = false;

            let message = '';
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    message = 'Location access denied. Please allow location access in your browser settings.';
                    break;
                case error.POSITION_UNAVAILABLE:
                    message = 'Location information is unavailable.';
                    break;
                case error.TIMEOUT:
                    message = 'The request to get your location timed out. Please try again.';
                    break;
                default:
                    message = 'An unknown error occurred while getting your location.';
                    break;
            }
            showError(message);
        }

        // Quick action functions
        function quickLocation() {
            document.querySelector('[data-section="location"]').click();
            setTimeout(() => {
                document.getElementById('getLocationBtn').click();
            }, 300);
        }

        function watchLocation() {
            if (watchId !== null) {
                navigator.geolocation.clearWatch(watchId);
                watchId = null;
                showSuccess('Location tracking stopped');
                return;
            }

            if (!navigator.geolocation) {
                showError('Geolocation is not supported');
                return;
            }

            watchId = navigator.geolocation.watchPosition(
                (position) => {
                    showPosition(position);
                    showSuccess('Location updated - Tracking active');
                },
                handleError,
                { enableHighAccuracy: true, maximumAge: 30000, timeout: 27000 }
            );
            
            showSuccess('Location tracking started');
        }

        function shareLocation() {
            if (!currentPosition) {
                showError('Please get your location first');
                return;
            }

            const coords = currentPosition.coords;
            const shareText = `My location: ${coords.latitude.toFixed(6)}, ${coords.longitude.toFixed(6)}`;
            const shareUrl = `https://maps.google.com/maps?q=${coords.latitude},${coords.longitude}`;

            if (navigator.share) {
                navigator.share({
                    title: 'My Current Location',
                    text: shareText,
                    url: shareUrl
                });
            } else {
                navigator.clipboard.writeText(`${shareText}\n${shareUrl}`).then(() => {
                    showSuccess('Location copied to clipboard!');
                }).catch(() => {
                    showError('Could not copy location');
                });
            }
        }

        function saveLocation() {
            if (!currentPosition) {
                showError('Please get your location first');
                return;
            }
            
            const name = prompt('Enter a name for this location:');
            if (name) {
                const locationData = {
                    ...currentPosition,
                    name: name,
                    saved: true
                };
                saveToHistory(locationData);
                showSuccess(`Location saved as "${name}"`);
            }
        }

        // Weather function
        function getWeather() {
            const widget = document.getElementById('weatherWidget');
            widget.classList.add('show');
            // In a real implementation, you would call a weather API here
            widget.innerHTML = `
                <h3>üå§Ô∏è Weather Feature</h3>
                <p>Weather API integration would provide:</p>
                <ul style="text-align: left; margin-top: 10px;">
                    <li>Current temperature</li>
                    <li>Weather conditions</li>
                    <li>Humidity and wind speed</li>
                    <li>5-day forecast</li>
                </ul>
            `;
        }

        // History functions
        function saveToHistory(position) {
            const historyItem = {
                latitude: position.coords.latitude,
                longitude: position.coords.longitude,
                accuracy: position.coords.accuracy,
                timestamp: position.timestamp,
                name: position.name || `Location ${locationHistory.length + 1}`,
                saved: position.saved || false
            };
            
            locationHistory.unshift(historyItem);
            if (locationHistory.length > 50) {
                locationHistory = locationHistory.slice(0, 50);
            }
            
            localStorage.setItem('locationHistory', JSON.stringify(locationHistory));
        }

        function showHistory() {
            const panel = document.getElementById('historyPanel');
            if (locationHistory.length === 0) {
                panel.innerHTML = '<p>No location history available. Start by getting your location!</p>';
                return;
            }

            const historyHTML = locationHistory.map((item, index) => `
                <div class="history-item">
                    <strong>${item.name}</strong><br>
                    <small>üìç ${item.latitude.toFixed(6)}, ${item.longitude.toFixed(6)}</small><br>
                    <small>üïí ${new Date(item.timestamp).toLocaleString()}</small>
                    <small style="float: right;">‚ö° ${item.accuracy.toFixed(2)}m</small>
                </div>
            `).join('');

            panel.innerHTML = historyHTML;
        }

        function clearHistory() {
            if (confirm('Are you sure you want to clear all location history?')) {
                locationHistory = [];
                localStorage.removeItem('locationHistory');
                showHistory();
                showSuccess('Location history cleared');
            }
        }

        function loadLocationHistory() {
            showHistory();
        }

        // Tool functions
        function calculateDistance() {
            document.getElementById('toolsResult').innerHTML = `
                <h3>üìè Distance Calculator</h3>
                <p>Feature to calculate distance between two points would be implemented here.</p>
                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 8px;">
                    <strong>Functionality would include:</strong>
                    <ul style="margin-top: 10px;">
                        <li>Distance between coordinates</li>
                        <li>Multiple distance units</li>
                        <li>Great circle distance calculation</li>
                    </ul>
                </div>
            `;
        }

        function convertCoordinates() {
            document.getElementById('toolsResult').innerHTML = `
                <h3>üîÑ Coordinate Converter</h3>
                <p>Convert between different coordinate systems and formats.</p>
                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 8px;">
                    <strong>Supported formats:</strong>
                    <ul style="margin-top: 10px;">
                        <li>Decimal Degrees (DD)</li>
                        <li>Degrees Minutes Seconds (DMS)</li>
                        <li>UTM Coordinates</li>
                    </ul>
                </div>
            `;
        }

        function findNearby() {
            document.getElementById('toolsResult').innerHTML = `
                <h3>üîç Find Nearby Places</h3>
                <p>Discover nearby points of interest and services.</p>
                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 8px;">
                    <strong>Search categories:</strong>
                    <ul style="margin-top: 10px;">
                        <li>Restaurants & Food</li>
                        <li>Gas Stations</li>
                        <li>Medical Services</li>
                        <li>Shopping Centers</li>
                    </ul>
                </div>
            `;
        }

        function exportData() {
            if (locationHistory.length === 0) {
                showError('No location data to export');
                return;
            }

            const data = JSON.stringify(locationHistory, null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'location-history.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showSuccess('Location data exported successfully!');
        }

        // Utility functions
        function showError(message) {
            hideMessages();
            error.textContent = message;
            error.classList.add('show');
        }

        function showSuccess(message) {
            hideMessages();
            success.textContent = message;
            success.classList.add('show');
        }

        function hideMessages() {
            error.classList.remove('show');
            success.classList.remove('show');
        }
    </script>
</body>
</html>
